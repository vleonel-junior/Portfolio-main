---
import Layout from "../layouts/Layout.astro";
import BlogCard from "../components/ui/BlogCard.astro";
import SectionTitle from "../components/SectionTitle.astro";
import { getCollection } from "astro:content";
import { experienceData } from "../data/experience";
import {
	projectsData,
	academicProjects,
	personalProjects,
} from "../data/projects";
import { certificationsData } from "../data/certifications";
import { educationData } from "../data/education";
import { publicationsData } from "../data/publications";
import { prizesData } from "../data/prizes";
import { volunteeringData } from "../data/volunteering";

// Get latest blog posts
const allPosts = await getCollection("blog");
const latestPosts = allPosts
	.filter((post) => !post.data.draft)
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 3);

// Filter featured projects for home
const featuredProjects = projectsData.filter((p) => p.featured).slice(0, 4);
---

<Layout
	title="L√©onel VODOUNOU - G√©nie Math√©matique & IA"
	description="Portfolio of L√©onel VODOUNOU, specialized in Stochastic Modeling, Statistics, and Deep Learning."
>
	<main class="container-custom py-12 md:py-20">
		<!-- 1. About Me (Bio) -->
		<section id="about" class="mb-20 md:mb-28">
			<SectionTitle title="About Me" />
			<div
				class="flex flex-col md:flex-row gap-8 md:gap-12 items-center md:items-start text-center md:text-left"
			>
				<div
					class="flex flex-col items-center flex-shrink-0 w-full md:w-auto"
				>
					<!-- Photo -->
					<div
						class="w-40 h-40 md:w-56 md:h-56 relative group mx-auto md:mx-0"
					>
						<div
							class="absolute inset-0 bg-gradient-to-tr from-blue-500 to-purple-500 rounded-full blur opacity-20 group-hover:opacity-40 transition-opacity duration-500"
						>
						</div>
						<img
							src={`${import.meta.env.BASE_URL}images/me.jpeg`}
							alt="L√©onel VODOUNOU"
							class="w-full h-full object-cover object-[center_35%] rounded-full border-2 border-white dark:border-gray-800 shadow-lg relative z-10"
						/>
					</div>

					<!-- Profile Info List -->
					<div
						class="mt-6 flex flex-col items-center text-center gap-2"
					>
						<div
							class="flex items-center gap-2 text-sm text-quartz/60 dark:text-quartz-light/60"
						>
							<span>üìç</span> Cotonou, Benin üáßüáØ
						</div>
						<div
							class="flex items-center gap-2 text-sm font-medium text-quartz/80 dark:text-quartz-light/80"
						>
							<span>üßëüèªüíª</span> Mathematical Engineering & AI Research
						</div>
					</div>
				</div>

				<!-- Bio Text -->
				<div class="flex-1">
					<div
						class="prose dark:prose-invert max-w-none text-quartz/80 dark:text-quartz-light/80 leading-relaxed text-left"
					>
						<p>
							<strong>Hello, I'm L√©onel!</strong> I am a <strong
								>Mathematical Engineer</strong
							> and <strong>Data Scientist</strong> driven by the mission
							of bridging the gap between rigorous mathematical research
							and practical AI deployment.
						</p>
						<p>
							With a background in <strong
								>stochastic modeling</strong
							> and <strong>statistics</strong>, I specialize in
							transforming complex theoretical ideas into robust
							AI prototypes. I am particularly passionate about <strong
								>Machine Learning</strong
							>, <strong>Large Language Models (LLMs)</strong>,
							and <strong>Computer Vision</strong>, where I focus
							on improving both the performance and the
							theoretical foundations of modern models.
						</p>
						<p>
							My goal is to take mathematical insights and turn
							them into experimental solutions that solve
							real-world problems. I thrive at the intersection of
							abstract analysis and high-performance engineering,
							always looking for new ways to make AI more robust
							and understandable.
						</p>
						<div
							class="flex gap-4 pt-4 justify-center md:justify-start"
						>
							<a
								href="mailto:vleoneljunior@gmail.com"
								class="text-sm font-medium text-quartz/60 hover:text-blue-600 dark:text-quartz-light/60 dark:hover:text-blue-400 transition-colors flex items-center gap-2"
							>
								<svg
									xmlns="http://www.w3.org/2000/svg"
									width="16"
									height="16"
									viewBox="0 0 24 24"
									fill="none"
									stroke="currentColor"
									stroke-width="2"
									stroke-linecap="round"
									stroke-linejoin="round"
									><rect
										width="20"
										height="16"
										x="2"
										y="4"
										rx="2"></rect><path
										d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"
									></path></svg
								>
								vleoneljunior@gmail.com
							</a>
							<a
								href="https://github.com/vleonel-junior"
								target="_blank"
								class="text-sm font-medium text-quartz/60 hover:text-blue-600 dark:text-quartz-light/60 dark:hover:text-blue-400 transition-colors flex items-center gap-2"
							>
								<svg
									xmlns="http://www.w3.org/2000/svg"
									width="16"
									height="16"
									viewBox="0 0 24 24"
									fill="none"
									stroke="currentColor"
									stroke-width="2"
									stroke-linecap="round"
									stroke-linejoin="round"
									><path
										d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
									></path><path d="M9 18c-4.51 2-5-2-7-2"
									></path></svg
								>
								GitHub
							</a>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- 2. Education -->
		<section class="mb-16">
			<SectionTitle title="Education" />
			<div class="space-y-4">
				{
					educationData.map((edu) => (
						<div class="flex flex-col sm:flex-row justify-between sm:items-baseline border-b border-gray-100 dark:border-gray-800 pb-4 last:border-0">
							<div>
								<h4 class="font-bold text-quartz dark:text-quartz-light text-lg">
									{edu.degree}
								</h4>
								<div class="text-quartz/70 dark:text-quartz-light/70">
									{edu.institution}
								</div>
								{edu.description && (
									<p class="text-sm text-quartz/60 dark:text-quartz-light/60 mt-1">
										{edu.description}
									</p>
								)}
							</div>
							<div class="text-sm font-mono text-quartz/50 dark:text-quartz-light/50 mt-1 sm:mt-0">
								{edu.year}
							</div>
						</div>
					))
				}
			</div>
		</section>

		<!-- 3. Publications -->
		<section class="mb-16">
			<SectionTitle title="Publications" />
			<ul class="space-y-4">
				{
					publicationsData.map((pub) => (
						<li class="flex flex-col sm:flex-row gap-2 sm:items-baseline">
							<span class="text-quartz/50 dark:text-quartz-light/50 font-mono text-sm min-w-[4rem]">
								{pub.year}
							</span>
							<div>
								<span class="font-bold text-quartz dark:text-quartz-light">
									{pub.title}
								</span>
								.
								<span class="italic text-quartz/80 dark:text-quartz-light/80">
									{" "}
									{pub.journal}
								</span>
								.
								<span class="text-quartz/60 dark:text-quartz-light/60">
									{" "}
									{pub.authors}
								</span>
								{pub.url && (
									<a
										href={pub.url}
										target="_blank"
										class="ml-2 text-blue-600 dark:text-blue-400 hover:underline text-sm"
									>
										[Link]
									</a>
								)}
							</div>
						</li>
					))
				}
			</ul>
		</section>

		<!-- 4. Experience -->
		<section class="mb-16">
			<SectionTitle title="Experience" />

			<div class="grid gap-6">
				{
					experienceData.map((exp) => (
						<div class="flex flex-col sm:flex-row gap-4 sm:gap-8 hover:bg-gray-50 dark:hover:bg-white/5 p-4 rounded-lg transition-colors -mx-4">
							<div class="sm:w-32 flex-shrink-0 text-sm text-quartz/60 dark:text-quartz-light/60 font-mono pt-1">
								{exp.startDate} - {exp.endDate}
							</div>
							<div>
								<h4 class="font-bold text-quartz dark:text-quartz-light">
									{exp.role}
								</h4>
								<div class="text-sm font-medium text-quartz/70 dark:text-quartz-light/70 mb-2">
									{exp.company}
								</div>
								<p class="text-sm text-quartz/80 dark:text-quartz-light/80 leading-relaxed mb-2">
									{exp.description}
								</p>
								<div class="flex flex-wrap gap-2">
									{exp.technologies.map((tech) => (
										<span class="text-[10px] px-2 py-0.5 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300">
											{tech}
										</span>
									))}
								</div>
							</div>
						</div>
					))
				}
			</div>
			<div class="mt-6 text-right">
				<a
					href={`${import.meta.env.BASE_URL}experience`}
					class="text-sm font-medium text-green-600 dark:text-green-400 hover:underline"
					>View full experience ‚Üí</a
				>
			</div>
		</section>

		<!-- 5. Recent Projects -->
		<section id="projects" class="mb-16">
			<SectionTitle title="Recent Projects" />

			<div class="space-y-12">
				<!-- Academic Projects -->
				<div>
					<h3
						class="flex items-center text-lg font-bold mb-6 text-purple-700 dark:text-purple-400"
					>
						<span class="mr-2">‚ñ∂</span> Academic
					</h3>
					<div class="flex flex-col gap-6">
						{
							academicProjects.map((project) => (
								<div class="bg-white dark:bg-gray-800 rounded-lg p-6 border border-quartz/10 dark:border-quartz-light/10 shadow-sm hover:shadow-md transition-shadow">
									<div class="flex flex-col sm:flex-row justify-between items-start sm:items-baseline mb-4">
										<h4 class="text-xl font-bold text-quartz dark:text-quartz-light">
											{project.title}
										</h4>
										{project.year && (
											<span class="text-sm font-mono text-quartz/50 dark:text-quartz-light/50 mt-1 sm:mt-0">
												{project.year}
											</span>
										)}
									</div>
									<p class="text-quartz/70 dark:text-quartz-light/70 mb-6 leading-relaxed">
										{project.description}
									</p>
									<div class="flex flex-wrap justify-between items-end gap-4">
										<div class="text-sm italic text-quartz/60 dark:text-quartz-light/60">
											Technologies:{" "}
											{project.technologies.join(", ")}
										</div>
										{project.githubUrl && (
											<a
												href={project.githubUrl}
												target="_blank"
												class="text-blue-600 dark:text-blue-400 font-bold hover:underline text-sm flex items-center gap-1"
											>
												View on GitHub
											</a>
										)}
									</div>
								</div>
							))
						}
					</div>
				</div>

				<!-- Personal Projects (Hidden if empty) -->
				<!-- Personal Projects -->
				<div>
					<h3
						class="flex items-center text-lg font-bold mb-6 text-green-700 dark:text-green-400"
					>
						<span class="mr-2">‚ñ∂</span> Personal
					</h3>

					{
						personalProjects.length > 0 ? (
							<div class="flex flex-col gap-6">
								{personalProjects.map((project) => (
									<div class="bg-white dark:bg-gray-800 rounded-lg p-6 border border-quartz/10 dark:border-quartz-light/10 shadow-sm hover:shadow-md transition-shadow">
										<div class="flex flex-col sm:flex-row justify-between items-start sm:items-baseline mb-4">
											<h4 class="text-xl font-bold text-quartz dark:text-quartz-light">
												{project.title}
											</h4>
											{project.year && (
												<span class="text-sm font-mono text-quartz/50 dark:text-quartz-light/50 mt-1 sm:mt-0">
													{project.year}
												</span>
											)}
										</div>
										<p class="text-quartz/70 dark:text-quartz-light/70 mb-4">
											{project.description}
										</p>
									</div>
								))}
							</div>
						) : (
							<p class="text-quartz/60 dark:text-quartz-light/60 italic pl-6 border-l-2 border-gray-200 dark:border-gray-700">
								Coming soon üòé
							</p>
						)
					}
				</div>
			</div>

			<div class="mt-8 text-center">
				<a
					href={`${import.meta.env.BASE_URL}projects`}
					class="inline-flex items-center gap-2 text-blue-600 dark:text-blue-400 hover:underline font-medium"
				>
					View all projects <svg
						xmlns="http://www.w3.org/2000/svg"
						width="16"
						height="16"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
						class="lucide lucide-arrow-right"
						><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"
						></path></svg
					>
				</a>
			</div>
		</section>

		<!-- 6. Certifications -->
		<section class="mb-16">
			<SectionTitle title="Certifications" />

			<div class="grid sm:grid-cols-2 gap-6">
				{
					certificationsData.map((cert) => (
						<a
							href={cert.url || cert.image || "#"}
							target={cert.url || cert.image ? "_blank" : "_self"}
							class={`block h-full bg-white dark:bg-gray-800 rounded-lg overflow-hidden border border-quartz/10 dark:border-quartz-light/10 hover:border-orange-400 dark:hover:border-orange-400 transition-all shadow-sm hover:shadow-md group ${!cert.url && !cert.image ? "cursor-default" : ""}`}
						>
							{cert.image && (
								<div class="w-full h-48 overflow-hidden bg-gray-100 dark:bg-gray-900 border-b border-gray-100 dark:border-gray-700">
									<img
										src={
											cert.image.startsWith("/")
												? `${import.meta.env.BASE_URL}${cert.image.slice(1)}`
												: cert.image
										}
										alt={cert.title}
										class="w-full h-full object-cover object-top group-hover:scale-105 transition-transform duration-500"
									/>
								</div>
							)}
							<div class="p-6">
								<h4 class="font-bold text-lg text-quartz dark:text-quartz-light group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors mb-2">
									{cert.title}
								</h4>
								<div class="flex flex-col gap-2">
									<span class="text-sm font-medium text-quartz/70 dark:text-quartz-light/70">
										{cert.issuer}
									</span>
									<span class="font-mono text-xs text-quartz/40 dark:text-quartz-light/40">
										{cert.date}
									</span>
								</div>
								{cert.description && (
									<p class="text-sm text-quartz/60 dark:text-quartz-light/60 mt-4 leading-relaxed">
										{cert.description}
									</p>
								)}
							</div>
						</a>
					))
				}
			</div>
		</section>

		<!-- 7. Volunteering / Teaching -->
		<section class="mb-16">
			<SectionTitle title="Volunteering / Teaching" />

			<div class="grid gap-6">
				{
					volunteeringData.map((vol) => (
						<div class="flex flex-col sm:flex-row gap-4 sm:gap-8 hover:bg-gray-50 dark:hover:bg-white/5 p-4 rounded-lg transition-colors -mx-4">
							<div class="sm:w-32 flex-shrink-0 text-sm text-quartz/60 dark:text-quartz-light/60 font-mono pt-1">
								{vol.period}
							</div>
							<div>
								<h4 class="font-bold text-quartz dark:text-quartz-light">
									{vol.role}
								</h4>
								<div class="text-sm font-medium text-quartz/70 dark:text-quartz-light/70 mb-2">
									{vol.organization}
								</div>
								<p class="text-sm text-quartz/80 dark:text-quartz-light/80 leading-relaxed">
									{vol.description}
								</p>
							</div>
						</div>
					))
				}
			</div>
		</section>
	</main>
</Layout>
