---
import type { CollectionEntry } from 'astro:content';
import Layout from './Layout.astro';
import Comments from '../components/Comments.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, image } = Astro.props;
---

<Layout title={title} description={description} image={image} type="article">
    <article class="py-12 md:py-20">
        <div class="container-custom max-w-3xl">
            <header class="mb-12 text-center">
                <div class="text-sm text-quartz/60 dark:text-quartz-light/60 mb-4 font-medium uppercase tracking-wider">
                    <time datetime={pubDate.toISOString()}>
                        {pubDate.toLocaleDateString('fr-FR', {
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric',
                        })}
                    </time>
                </div>
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-serif font-medium leading-tight mb-6 text-quartz dark:text-quartz-light">
                    {title}
                </h1>
                <p class="text-xl text-quartz/70 dark:text-quartz-light/80 leading-relaxed max-w-2xl mx-auto">
                    {description}
                </p>
                {image && (
                    <div class="mt-12 rounded-xl overflow-hidden shadow-2xl">
                        <img src={image} alt={title} class="w-full h-auto" />
                    </div>
                )}
            </header>

            <div class="prose prose-lg prose-quartz mx-auto font-serif dark:prose-invert">
                <slot />
            </div>
            
            <!-- Comments Section -->
            <Comments />
        </div>
    </article>
</Layout>
