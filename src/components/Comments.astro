---
import CommentSection from "./CommentSection";

interface Props {
  slug?: string;
}

const { slug } = Astro.props;
// Fallback to getting slug from URL if not passed prop (e.g. valid for /blog/[slug])
const postSlug =
  slug ||
  Astro.params.slug ||
  Astro.url.pathname.replace(/\/$/, "").split("/").pop() ||
  "general";
---

<div class="mt-16 pt-12 border-t border-quartz/10 dark:border-quartz-light/10">
  <div class="max-w-3xl mx-auto">
    <CommentSection client:visible slug={postSlug} />
  </div>
</div>
